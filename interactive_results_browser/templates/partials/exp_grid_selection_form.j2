<form id="params" method="GET" action="">
    {% for k,v in exp_grid.items() %}
    <p style="display: inline-block">
        {% if isinstance(v, Iterable) %}
        <label for="[[k}}">{{k[9:]}}</label>
        <select id="{{k}}" multiple autocomplete="off" name="{{k}}">
            {% for v2 in v %}
            {% if k in get_data_exp_grid.keys() and str(v2) in get_data_exp_grid[k] %}
            <option value="{{v2}}" selected>{{v2}}</option>
            {% elif k not in get_data_exp_grid.keys() %}
            <option value="{{v2}}" selected>{{v2}}</option>
            {% else %}
            <option value="{{v2}}">{{v2}}</option>
            {% endif %}
            {% endfor %}
        </select>

        <script type="text/javascript">
            new TomSelect('#{{k}}', {
                plugins: {
                    'remove_button': {
                        title: 'Remove this item',
                    }, 'input_autogrow': {},
                },
                persist: false,
                create: true,

            });
        </script>
        {% endif %}

    </p>
    {% endfor %}
    <input type="submit" value="Update" submit />
</form>